// Test: enum with multiple data variants and pattern matching
// EXPECT: 10
// EXPECT: 42
// EXPECT: 7
enum Value {
    Int(i32),
    Pair(i32, i32),
    None,
}

fn extract(v: Value) -> i32 {
    match v {
        Value::Int(x) => x,
        Value::Pair(a, b) => a + b,
        Value::None => 0,
    }
}

fn main() -> i32 {
    let v1: Value = Value::Int(10);
    let r1: i32 = extract(v1);
    println_int(r1);

    let v2: Value = Value::Pair(20, 22);
    let r2: i32 = extract(v2);
    println_int(r2);

    let v3: Value = Value::Pair(3, 4);
    let r3: i32 = extract(v3);
    println_int(r3);

    if r1 != 10 { return 1; }
    if r2 != 42 { return 2; }
    if r3 != 7 { return 3; }
    0
}
