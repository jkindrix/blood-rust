// Test: generic enum (Option-like)
// EXPECT: 42
// EXPECT: 0
enum Maybe<T> {
    Just(T),
    Nothing,
}

fn unwrap_or(m: Maybe<i32>, default: i32) -> i32 {
    match m {
        Maybe::Just(x) => x,
        Maybe::Nothing => default,
    }
}

fn main() -> i32 {
    let a: Maybe<i32> = Maybe::Just(42);
    let v1: i32 = unwrap_or(a, 0);
    println_int(v1);

    let b: Maybe<i32> = Maybe::Nothing;
    let v2: i32 = unwrap_or(b, 0);
    println_int(v2);

    if v1 != 42 { return 1; }
    if v2 != 0 { return 2; }
    0
}
