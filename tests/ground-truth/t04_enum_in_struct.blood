// Test: enum fields inside structs
// EXPECT: 1
// EXPECT: 250
// EXPECT: 0
enum Color {
    Red,
    Green,
    Blue,
}

struct Pixel {
    color: Color,
    brightness: i32,
}

fn color_value(c: Color) -> i32 {
    match c {
        Color::Red => 0,
        Color::Green => 1,
        Color::Blue => 2,
    }
}

fn pixel_score(p: Pixel) -> i32 {
    let cv: i32 = color_value(p.color);
    cv * 100 + p.brightness
}

fn main() -> i32 {
    let p1: Pixel = Pixel { color: Color::Green, brightness: 80 };
    let cv: i32 = color_value(p1.color);
    println_int(cv); // Green = 1

    let p2: Pixel = Pixel { color: Color::Blue, brightness: 50 };
    let score: i32 = pixel_score(p2);
    println_int(score); // 2*100 + 50 = 250

    let p3: Pixel = Pixel { color: Color::Red, brightness: 0 };
    let score3: i32 = pixel_score(p3);
    println_int(score3); // 0*100 + 0 = 0

    if cv != 1 { return 1; }
    if score != 250 { return 2; }
    if score3 != 0 { return 3; }
    0
}
