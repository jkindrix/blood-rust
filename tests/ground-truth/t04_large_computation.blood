// Test: larger computation to stress-test codegen (no effects, just computation)
// EXPECT: 2520
fn gcd(a: i32, b: i32) -> i32 {
    let mut x: i32 = a;
    let mut y: i32 = b;
    if x < 0 { x = 0 - x; }
    if y < 0 { y = 0 - y; }
    while y != 0 {
        let temp: i32 = y;
        y = x % y;
        x = temp;
    }
    x
}

fn lcm(a: i32, b: i32) -> i32 {
    if a == 0 { return 0; }
    let g: i32 = gcd(a, b);
    a / g * b
}

fn main() -> i32 {
    // LCM of 1..10 = 2520
    let mut result: i32 = 1;
    let mut i: i32 = 2;
    while i <= 10 {
        result = lcm(result, i);
        i = i + 1;
    }
    println_int(result);

    if result != 2520 { return 1; }
    0
}
