// COMPILE_FAIL: recursive enum type has infinite size (needs boxing/indirection)
// Test: recursive enum (like a linked list)
// This tests whether the compiler handles recursive types properly.
// EXPECT: 6
enum List {
    Cons(i32, List),
    Nil,
}

fn sum_list(lst: List) -> i32 {
    match lst {
        List::Cons(head, tail) => head + sum_list(tail),
        List::Nil => 0,
    }
}

fn main() -> i32 {
    let lst: List = List::Cons(1, List::Cons(2, List::Cons(3, List::Nil)));
    let s: i32 = sum_list(lst);
    println_int(s);

    if s != 6 { return 1; }
    0
}
