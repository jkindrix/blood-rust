// Test: reference (&) and dereference (*) operators
// EXPECT: 42
// EXPECT: 100
fn read_ref(r: &i32) -> i32 {
    *r
}

fn write_ref(r: &mut i32, val: i32) -> () {
    *r = val;
}

fn main() -> i32 {
    // Immutable reference and deref
    let x: i32 = 42;
    let r: &i32 = &x;
    let val: i32 = read_ref(r);
    println_int(val); // 42
    if val != 42 { return 1; }

    // Mutable reference and deref assignment
    let mut y: i32 = 50;
    write_ref(&mut y, 100);
    println_int(y); // 100
    if y != 100 { return 2; }

    0
}
